@model Intranet_NEW.Models.WEB.MensagemModel

<div class="card mb-2 shadow-sm mensagem-card" data-id="@Model.Id">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <strong>De:</strong> @Model.Remetente <br />
                @if (Model.Destinatario.HasValue)
                {
                    <span><strong>Para:</strong> @Model.Destinatario</span>
                }
                else if (!string.IsNullOrEmpty(Model.GrupoDestino))
                {
                    <span><strong>Grupo:</strong> @Model.GrupoDestino</span>
                }
            </div>
            <small class="text-muted">@Model.DataEnvio.ToString("dd/MM/yyyy HH:mm")</small>
        </div>

        <hr class="my-2" />

        <p class="mb-1">@Model.Mensagem</p>

        <div class="d-flex justify-content-between align-items-center mt-2">
            @if (Model.DataVisualizado.HasValue)
            {
                <span class="badge bg-success">Lida em @Model.DataVisualizado.Value.ToString("dd/MM/yyyy HH:mm")</span>
            }
            else
            {
                <span class="badge bg-secondary">Não lida</span>
            }

            @if (Model.Excluida == 0)
            {
                <button class="btn btn-sm btn-outline-danger delete-msg" data-id="@Model.Id">
                    <i class="fas fa-trash-alt"></i> Excluir
                </button>
            }
            else
            {
                <span class="text-danger small">Mensagem excluída</span>
            }
        </div>
    </div>
</div>
